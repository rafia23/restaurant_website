<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savory Sizzle</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="background"></div>
    <nav id="navbar">
        <h1 class="header">Savory Sizzle</h1>

        <ul>
            <li class="item"><a href="/">Home</a></li>
            <li class="item"><a href="#">About Us</a></li>
            <li class="item"><a href="/menu">Menu</a></li>
            <li class="item"><a href="#">Specials</a></li>
            <li class="item"><a href="#">Contact Us</a></li>
            <li class="item"><a href="#">Reservation</a></li>
            <li class="item"><a href="/order">Order</a></li>
        </ul>
        <div class="bk_btn">
            <a href="#" class="book_table_btn">Book a table</a>
        </div>
    </nav>
<div class="menu" id="menu">
    <h1>Our<span>Menu</span></h1>
    <div class="menu_box">
        <div class="menu_card">
            <div class="menu_image">
                <img src="/burger.jpg">
            </div>

            <div class="menu_info" id="item1" name="item1">
                <h2>Loading...</h2>
                <p>Loading...</p>
                <h3>Loading...</h3>
            </div>
            <a href="#" class="order_btn">Order Now</a>

        </div>
    

    <div class="menu_card">
        <div class="menu_image">
            <img src="/pizza.png">
        </div>

        <div class="menu_info" id="item2" name="item2">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn">Order Now</a>

    </div>

    <div class="menu_card">
        <div class="menu_image">
            <img src="/lasagna.jpg">
        </div>

        <div class="menu_info" id="item3" name="item3">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn">Order Now</a>

    </div>

    <div class="menu_card">
        <div class="menu_image">
            <img src="/dumplings.jpg">
        </div>

        <div class="menu_info" id="item4" name="item4">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn">Order Now</a>

    </div>

    <div class="menu_card">
        <div class="menu_image">
            <img src="/sphagetti.jpg">
        </div>

        <div class="menu_info" id="item5" name="item5">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn">Order Now</a>

    </div>

    <div class="menu_card">
        <div class="menu_image">
            <img src="/sushi.png">
        </div>

        <div class="menu_info" id="item6" name="item6">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn">Order Now</a>

    </div>

    <div class="menu_card">
        <div class="menu_image">
            <img src="/cheesecake.jpg">
        </div>

        <div class="menu_info" id="item7" name="item7">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn">Order Now</a>

    </div>

    <div class="menu_card">
        <div class="menu_image">
            <img src="/cake.jpg">
        </div>

        <div class="menu_info" id="item8" name="item8">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn">Order Now</a>

    </div>

    <div class="menu_card">
        <div class="menu_image">
            <img src="/coffee frappe.jpg">
        </div>

        <div class="menu_info" id="item9" name="item9">
            <h2>Loading...</h2>
            <p>Loading...</p>
            <h3>Loading...</h3>
        </div>
        <a href="#" class="order_btn" onclick="menu_order()">Order Now</a>

    </div>
</div>
</div>
<script>


    const menu_info = document.querySelectorAll('.menu_info');
 

    for(i=0; i<menu_info.length; i++)
    {
        fetch("/menu_items", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            id: menu_info[i].id,     
          }),
        })
          .then((res) => res.json())
          .then((data) => {
            if (data.success) {
           document.querySelector(#${data.result.id} h2).innerHTML = data.result.item_name;
           document.querySelector(#${data.result.id} p).innerHTML = data.result.description;
           document.querySelector(#${data.result.id} h3).innerHTML = data.result.price; 
            } else {
              alert(data.error);
              window.location.href = "/order";
            }
          });
    }

    function menu_order(){
      event.preventDefault();
      window.location.href = "/order";
    }

</script>
</body>
</html>